"use strict";(self.webpackChunkkrebit_apidocs=self.webpackChunkkrebit_apidocs||[]).push([[713],{44237:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"getting-started/quickstart-clients","title":"Quickstart: Retrieve your first client","description":"Authenticate, list clients, and pull client details from the Krebit Finance API.","source":"@site/docs/getting-started/quickstart-clients.md","sourceDirName":"getting-started","slug":"/getting-started/quickstart-clients","permalink":"/docs/getting-started/quickstart-clients","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Quickstart: Retrieve your first client","description":"Authenticate, list clients, and pull client details from the Krebit Finance API.","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/docs/"},"next":{"title":"Authenticate with Krebit Finance","permalink":"/docs/getting-started/authentication"}}');var s=n(74848),r=n(28453);const a={title:"Quickstart: Retrieve your first client",description:"Authenticate, list clients, and pull client details from the Krebit Finance API.",sidebar_position:1},c="Quickstart: Retrieve your first client",l={},o=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1 - Obtain an access token",id:"step-1---obtain-an-access-token",level:2},{value:"Step 2 - Verify identity",id:"step-2---verify-identity",level:2},{value:"Step 3 - List clients",id:"step-3---list-clients",level:2},{value:"Step 4 - Fetch client details",id:"step-4---fetch-client-details",level:2},{value:"Optional - Create a webhook",id:"optional---create-a-webhook",level:2},{value:"Example Node.js integration",id:"example-nodejs-integration",level:2},{value:"Where to go next",id:"where-to-go-next",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"quickstart-retrieve-your-first-client",children:"Quickstart: Retrieve your first client"})}),"\n",(0,s.jsx)(t.p,{children:"This walkthrough builds a minimal integration that authenticates, lists clients, and fetches a single client record. It uses the Client Credentials flow and cURL for clarity, but you can translate the same steps into any HTTP client."}),"\n",(0,s.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"An active Krebit Finance tenant."}),"\n",(0,s.jsxs)(t.li,{children:["An OAuth application with client credentials (",(0,s.jsx)(t.code,{children:"client_id"}),", ",(0,s.jsx)(t.code,{children:"client_secret"}),")."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Set helpful environment variables before proceeding:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'export KREBIT_DOMAIN="yourco.krebit.se"\nexport KREBIT_API="https://${KREBIT_DOMAIN}/api/1.0"\nexport KREBIT_CLIENT_ID="YOUR_CLIENT_ID"\nexport KREBIT_CLIENT_SECRET="YOUR_CLIENT_SECRET"\n'})}),"\n",(0,s.jsx)(t.h2,{id:"step-1---obtain-an-access-token",children:"Step 1 - Obtain an access token"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'ACCESS_TOKEN=$(curl --silent --request POST \\\n  --url https://${KREBIT_DOMAIN}/oauth/token \\\n  --header \'Content-Type: application/json\' \\\n  --data "{\n    \\"grant_type\\": \\"client_credentials\\",\n    \\"client_id\\": \\"${KREBIT_CLIENT_ID}\\",\n    \\"client_secret\\": \\"${KREBIT_CLIENT_SECRET}\\"\n  }" | jq -r \'.access_token\')\n'})}),"\n",(0,s.jsxs)(t.p,{children:["If you do not have ",(0,s.jsx)(t.code,{children:"jq"}),", run the request manually and copy the ",(0,s.jsx)(t.code,{children:"access_token"}),". Tokens typically expire after one hour; request a new token as needed."]}),"\n",(0,s.jsx)(t.h2,{id:"step-2---verify-identity",children:"Step 2 - Verify identity"}),"\n",(0,s.jsx)(t.p,{children:"Confirm the credentials by requesting the current user profile:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'curl --request GET \\\n  --url ${KREBIT_API}/me \\\n  --header "Authorization: Bearer ${ACCESS_TOKEN}"\n'})}),"\n",(0,s.jsxs)(t.p,{children:["A ",(0,s.jsx)(t.code,{children:"200"})," response indicates the token is valid for this tenant."]}),"\n",(0,s.jsx)(t.h2,{id:"step-3---list-clients",children:"Step 3 - List clients"}),"\n",(0,s.jsx)(t.p,{children:"Use pagination parameters to control the size of the response:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'curl --request GET \\\n  --url "${KREBIT_API}/clients?limit=10&page=1" \\\n  --header "Authorization: Bearer ${ACCESS_TOKEN}" | jq \'.data\'\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Capture the ",(0,s.jsx)(t.code,{children:"id"})," of a client you want to inspect further."]}),"\n",(0,s.jsx)(t.h2,{id:"step-4---fetch-client-details",children:"Step 4 - Fetch client details"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'CLIENT_ID=12345\n\ncurl --request GET \\\n  --url "${KREBIT_API}/clients/${CLIENT_ID}" \\\n  --header "Authorization: Bearer ${ACCESS_TOKEN}"\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Review fields like ",(0,s.jsx)(t.code,{children:"company_name"}),", ",(0,s.jsx)(t.code,{children:"org_number"}),", and ",(0,s.jsx)(t.code,{children:"credit_limit"})," to confirm you have the data you need."]}),"\n",(0,s.jsx)(t.h2,{id:"optional---create-a-webhook",children:"Optional - Create a webhook"}),"\n",(0,s.jsx)(t.p,{children:"Use webhooks to keep downstream systems synchronized. Provide a target URL and an event value listed in the API reference."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'curl --request POST \\\n  --url "${KREBIT_API}/webhooks" \\\n  --header "Authorization: Bearer ${ACCESS_TOKEN}" \\\n  --header \'Content-Type: application/json\' \\\n  --data \'{\n    "event": "EVENT_TYPE",\n    "target": "https://example.com/webhooks/krebit"\n  }\'\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Store the returned ",(0,s.jsx)(t.code,{children:"secret"})," securely so you can verify webhook signatures."]}),"\n",(0,s.jsx)(t.h2,{id:"example-nodejs-integration",children:"Example Node.js integration"}),"\n",(0,s.jsxs)(t.p,{children:["The snippet below lists clients with ",(0,s.jsx)(t.code,{children:"axios"}),". Add robust error handling and retries before using it in production."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",children:"import axios from 'axios';\n\nconst baseUrl = `https://${process.env.KREBIT_DOMAIN}`;\nconst api = axios.create({\n  baseURL: `${baseUrl}/api/1.0`,\n  headers: { Accept: 'application/json' },\n});\n\nasync function authenticate() {\n  const { data } = await axios.post(`${baseUrl}/oauth/token`, {\n    grant_type: 'client_credentials',\n    client_id: process.env.KREBIT_CLIENT_ID,\n    client_secret: process.env.KREBIT_CLIENT_SECRET,\n  });\n  api.defaults.headers.common.Authorization = `Bearer ${data.access_token}`;\n}\n\nasync function run() {\n  await authenticate();\n\n  const { data } = await api.get('/clients', {\n    params: { limit: 10, page: 1 },\n  });\n\n  console.log('Client count:', data?.data?.length ?? 0);\n}\n\nrun().catch((error) => {\n  console.error('Krebit Finance API error', error.response?.data || error.message);\n  process.exit(1);\n});\n"})}),"\n",(0,s.jsx)(t.h2,{id:"where-to-go-next",children:"Where to go next"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Review the ",(0,s.jsx)(t.a,{href:"/docs/clients/",children:"Clients guide"})," for data modeling tips."]}),"\n",(0,s.jsxs)(t.li,{children:["Configure ",(0,s.jsx)(t.a,{href:"/docs/webhooks/",children:"Webhooks"})," to receive updates without polling."]}),"\n",(0,s.jsx)(t.li,{children:"Browse the generated API reference from the sidebar whenever you need parameter or schema details."}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);